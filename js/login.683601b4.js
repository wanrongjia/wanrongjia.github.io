"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[4535],{58480:function(e,t,i){i.r(t),i.d(t,{default:function(){return k}});var a=i(66252),o=i(3577);const l=e=>((0,a.dD)("data-v-3eb9b325"),e=e(),(0,a.Cn)(),e),s={class:"login_bg"},n={class:"login_main"},c={class:"login-form"},d={class:"login-header"},g={class:"logo"},u=["alt"],h={class:"login-oauth"},r={class:"qrCodeLogin"},m={class:"msg"},L=l((()=>(0,a._)("br",null,null,-1))),O={key:0,class:"qrCodeLogin-result"};function w(e,t,i,l,w,_){const v=(0,a.up)("password-form"),$=(0,a.up)("el-tab-pane"),f=(0,a.up)("el-tabs"),p=(0,a.up)("el-divider"),k=(0,a.up)("el-button"),W=(0,a.up)("sc-qr-code"),A=(0,a.up)("el-result"),T=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",s,[(0,a._)("div",n,[(0,a._)("div",c,[(0,a._)("div",d,[(0,a._)("div",g,[(0,a._)("img",{alt:e.$CONFIG.APP_NAME,src:"img/logo.png"},null,8,u),(0,a._)("label",null,(0,o.zw)(e.$CONFIG.APP_NAME),1)])]),(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)($,{label:e.$t("login.accountLogin"),lazy:""},{default:(0,a.w5)((()=>[(0,a.Wm)(v)])),_:1},8,["label"])])),_:1}),e.$CONFIG.MY_SHOW_LOGIN_OAUTH?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.$t("login.signInOther")),1)])),_:1}),(0,a._)("div",h,[(0,a.Wm)(k,{type:"success",icon:"sc-icon-wechat",circle:"",onClick:_.wechatLogin},null,8,["onClick"])])],64)):(0,a.kq)("",!0)])])]),(0,a.Wm)(T,{modelValue:w.showWechatLogin,"onUpdate:modelValue":t[0]||(t[0]=e=>w.showWechatLogin=e),title:e.$t("login.wechatLoginTitle"),width:400,"destroy-on-close":""},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(W,{class:"qrCode",text:w.WechatLoginCode,size:200},null,8,["text"]),(0,a._)("p",m,[(0,a.Uk)((0,o.zw)(e.$tc("login.wechatLoginMsg",1)),1),L,(0,a.Uk)((0,o.zw)(e.$tc("login.wechatLoginMsg",2)),1)]),w.isWechatLoginResult?((0,a.wg)(),(0,a.iD)("div",O,[(0,a.Wm)(A,{icon:"success",title:e.$tc("login.wechatLoginResult",1),"sub-title":e.$tc("login.wechatLoginResult",2)},null,8,["title","sub-title"])])):(0,a.kq)("",!0)])])),_:1},8,["modelValue","title"])],64)}var _=i(95671),v=i(26926),$={components:{passwordForm:_["default"],phoneForm:v["default"]},data(){return{config:{lang:this.$TOOL.data.get("APP_LANG")||this.$CONFIG.LANG,dark:this.$TOOL.data.get("APP_DARK")||!1},lang:[{name:"简体中文",value:"zh-cn"},{name:"English",value:"en"}],WechatLoginCode:"",showWechatLogin:!1,isWechatLoginResult:!1}},watch:{"config.dark"(e){e?(document.documentElement.classList.add("dark"),this.$TOOL.data.set("APP_DARK",e)):(document.documentElement.classList.remove("dark"),this.$TOOL.data.remove("APP_DARK"))},"config.lang"(e){this.$i18n.locale=e,this.$TOOL.data.set("APP_LANG",e)}},created:function(){this.$TOOL.cookie.remove("TOKEN"),this.$TOOL.data.remove("USER_INFO"),this.$TOOL.data.remove("MENU"),this.$TOOL.data.remove("PERMISSIONS"),this.$TOOL.data.remove("DASHBOARDGRID"),this.$TOOL.data.remove("grid"),this.$store.commit("clearViewTags"),this.$store.commit("clearKeepLive"),this.$store.commit("clearIframeList")},methods:{configDark(){this.config.dark=!this.config.dark},configLang(e){this.config.lang=e.value},wechatLogin(){this.showWechatLogin=!0,this.WechatLoginCode="SCUI-823677237287236-"+(new Date).getTime(),this.isWechatLoginResult=!1,setTimeout((()=>{this.isWechatLoginResult=!0}),3e3)}}},f=i(83744);const p=(0,f.Z)($,[["render",w],["__scopeId","data-v-3eb9b325"]]);var k=p}}]);