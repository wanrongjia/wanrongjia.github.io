"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[8782],{6123:function(e,a,l){l.r(a),l.d(a,{default:function(){return i}});var o=l(6252);const t=e=>((0,o.dD)("data-v-05911e3c"),e=e(),(0,o.Cn)(),e),r=t((()=>(0,o._)("div",{class:"el-form-item-msg"},"账号信息用于登录，系统不允许修改",-1)));function m(e,a,l,t,m,s){const n=(0,o.up)("scUpload"),u=(0,o.up)("el-form-item"),d=(0,o.up)("el-input"),i=(0,o.up)("el-button"),f=(0,o.up)("el-form"),p=(0,o.up)("el-card");return(0,o.wg)(),(0,o.j4)(p,{shadow:"never",header:"个人信息"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{ref:"form",model:m.form,rules:m.rules,"label-width":"120px","label-position":"left",style:{"margin-top":"20px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{label:"头像"},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{round:"",modelValue:m.form.portrait,"onUpdate:modelValue":a[0]||(a[0]=e=>m.form.portrait=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(u,{label:"登陆帐号"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",modelValue:m.form.account,"onUpdate:modelValue":a[1]||(a[1]=e=>m.form.account=e),disabled:""},null,8,["modelValue"]),r])),_:1}),(0,o.Wm)(u,{label:"用户姓名",prop:"name"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",disabled:"",modelValue:m.form.name,"onUpdate:modelValue":a[2]||(a[2]=e=>m.form.name=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(u,{label:"绑定电话",prop:"phone"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",modelValue:m.form.phone,"onUpdate:modelValue":a[3]||(a[3]=e=>m.form.phone=e),maxlength:"11"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(u,{label:"组织"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",modelValue:m.form.organizationName,"onUpdate:modelValue":a[4]||(a[4]=e=>m.form.organizationName=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(u,{label:"角色"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",modelValue:m.form.roleName,"onUpdate:modelValue":a[5]||(a[5]=e=>m.form.roleName=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{type:"primary",onClick:s.save},{default:(0,o.w5)((()=>[(0,o.Uk)("保存")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])),_:1})}var s=l(2787),n={data(){return{form:{account:"",name:"",psd:"********",phone:"",organizationName:"",roleName:"",portrait:""},rules:{name:[{required:!0,message:"用户名不能为空"}],phone:[{validator:s.C$,trigger:"change"}]}}},created(){this.getDetail()},methods:{async getDetail(){let e=await this.$API.user.GetUserInfo.get(!0);200===e.code&&(this.form=e.data)},save(){this.$refs.form.validate((async e=>{if(!e)return!1;{const{name:e,phone:a,portrait:l}=this.form;let o=await this.$API.user.UpdateUserInfo.put({name:e,phone:a,portrait:l});200===o.code?(this.$message.success("修改成功"),this.$emit("init")):this.$message.warning(o.message)}}))}}},u=l(3744);const d=(0,u.Z)(n,[["render",m],["__scopeId","data-v-05911e3c"]]);var i=d}}]);