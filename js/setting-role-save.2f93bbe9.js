"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[5212],{7961:function(e,l,a){a.r(l),a.d(l,{default:function(){return m}});var t=a(6252);function s(e,l,a,s,o,i){const r=(0,t.up)("el-input"),m=(0,t.up)("el-form-item"),d=(0,t.up)("el-input-number"),u=(0,t.up)("el-switch"),n=(0,t.up)("el-form"),f=(0,t.up)("el-button"),p=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.j4)(p,{title:o.titleMap[o.mode],modelValue:o.visible,"onUpdate:modelValue":l[7]||(l[7]=e=>o.visible=e),width:500,"destroy-on-close":"",onClosed:l[8]||(l[8]=l=>e.$emit("closed"))},{footer:(0,t.w5)((()=>[(0,t.Wm)(f,{onClick:l[5]||(l[5]=e=>o.visible=!1)},{default:(0,t.w5)((()=>[(0,t.Uk)("取 消")])),_:1}),"show"!=o.mode?((0,t.wg)(),(0,t.j4)(f,{key:0,type:"primary",loading:o.isSaveing,onClick:l[6]||(l[6]=e=>i.submit())},{default:(0,t.w5)((()=>[(0,t.Uk)("保 存")])),_:1},8,["loading"])):(0,t.kq)("",!0)])),default:(0,t.w5)((()=>[(0,t.Wm)(n,{model:o.form,rules:o.rules,disabled:"show"==o.mode,ref:"dialogForm","label-width":"100px","label-position":"left"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{label:"角色名称",prop:"label"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{modelValue:o.form.label,"onUpdate:modelValue":l[0]||(l[0]=e=>o.form.label=e),clearable:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(m,{label:"角色别名",prop:"alias"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{modelValue:o.form.alias,"onUpdate:modelValue":l[1]||(l[1]=e=>o.form.alias=e),clearable:""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(m,{label:"排序",prop:"sort"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{modelValue:o.form.sort,"onUpdate:modelValue":l[2]||(l[2]=e=>o.form.sort=e),"controls-position":"right",min:1,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(m,{label:"是否有效",prop:"status"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:o.form.status,"onUpdate:modelValue":l[3]||(l[3]=e=>o.form.status=e),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(m,{label:"备注",prop:"remark"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{modelValue:o.form.remark,"onUpdate:modelValue":l[4]||(l[4]=e=>o.form.remark=e),clearable:"",type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules","disabled"])])),_:1},8,["title","modelValue"])}var o={emits:["success","closed"],data(){return{mode:"add",titleMap:{add:"新增",edit:"编辑",show:"查看"},visible:!1,isSaveing:!1,form:{id:"",label:"",alias:"",sort:1,status:1,remark:""},rules:{sort:[{required:!0,message:"请输入排序",trigger:"change"}],label:[{required:!0,message:"请输入角色名称"}],alias:[{required:!0,message:"请输入角色别名"}]}}},mounted(){},methods:{open(e="add"){return this.mode=e,this.visible=!0,this},submit(){this.$refs.dialogForm.validate((async e=>{if(e){this.isSaveing=!0;var l=await this.$API.demo.post.post(this.form);this.isSaveing=!1,200==l.code?(this.$emit("success",this.form,this.mode),this.visible=!1,this.$message.success("操作成功")):this.$alert(l.message,"提示",{type:"error"})}}))},setData(e){this.form.id=e.id,this.form.label=e.label,this.form.alias=e.alias,this.form.sort=e.sort,this.form.status=e.status,this.form.remark=e.remark}}},i=a(3744);const r=(0,i.Z)(o,[["render",s]]);var m=r}}]);