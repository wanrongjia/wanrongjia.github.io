"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[5051,4920,2726],{6120:function(e,a,l){l.r(a),l.d(a,{default:function(){return h}});var t=l(6252),s=l(3577);const i=e=>((0,t.dD)("data-v-69bb0422"),e=e(),(0,t.Cn)(),e),u={class:"left-panel"},d={class:"title"},r=i((()=>(0,t._)("br",null,null,-1))),c={class:"right-panel"};function n(e,a,l,i,n,o){const f=(0,t.up)("el-icon-list"),p=(0,t.up)("el-icon"),m=(0,t.up)("el-tag"),b=(0,t.up)("el-button"),w=(0,t.up)("el-button-group"),h=(0,t.up)("el-header"),k=(0,t.up)("el-form-item"),v=(0,t.up)("el-col"),_=(0,t.up)("el-row"),W=(0,t.up)("RecycleDetail"),y=(0,t.up)("el-tab-pane"),g=(0,t.up)("el-tabs"),C=(0,t.up)("el-main"),D=(0,t.up)("el-container"),L=(0,t.up)("save-dialog");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(D,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,{class:"info"},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t.Wm)(p,{size:20,color:"var(--el-color-primary)"},{default:(0,t.w5)((()=>[(0,t.Wm)(f)])),_:1}),(0,t._)("div",d,(0,s.zw)(n.detail.name),1),(0,t.Wm)(m,{effect:"dark",style:{color:"#fff !important",border:"none"},color:o.statusStyle(n.detail.status)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(o.filterType(n.detail.status,n.statusList)),1)])),_:1},8,["color"]),r]),(0,t._)("div",c,[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{size:"default",onClick:o.back},{default:(0,t.w5)((()=>[(0,t.Uk)("返回")])),_:1},8,["onClick"]),(0,t.Wm)(b,{size:"default"},{default:(0,t.w5)((()=>[(0,t.Uk)("信息导出")])),_:1})])),_:1}),(0,t.Wm)(b,{type:"primary",size:"default",onClick:o.editData},{default:(0,t.w5)((()=>[(0,t.Uk)("编辑")])),_:1},8,["onClick"])])])),_:1}),(0,t.Wm)(C,{style:{background:"#fff"}},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{style:{"margin-left":"40px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{span:24},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"关联评分表:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(n.detail.sysAppraiseSheetName),1)])),_:1})])),_:1}),(0,t.Wm)(v,{span:4},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"所属部门:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(o.filterType(n.detail.deptType,n.deptList)),1)])),_:1})])),_:1}),(0,t.Wm)(v,{span:4},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"调研对象:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(o.filterType(n.detail.researchObjectType,n.researchObjectList)),1)])),_:1})])),_:1}),(0,t.Wm)(v,{span:16},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"调研周期:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(o.filterType(n.detail.researchPeriodType,n.researchPeriodList)),1)])),_:1})])),_:1}),(0,t.Wm)(v,{span:4},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"回收目标:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(n.detail.recoveryTargetCount),1)])),_:1})])),_:1}),(0,t.Wm)(v,{span:4},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"回收阀值:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(n.detail.recoveryDoorsillCount),1)])),_:1})])),_:1}),(0,t.Wm)(v,{span:16},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"起止时间:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(n.detail.startTime)+" ~ "+(0,s.zw)(n.detail.endTime),1)])),_:1})])),_:1}),(0,t.Wm)(v,{span:4},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"最近修改人:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(n.detail.updateUserAccount),1)])),_:1})])),_:1}),(0,t.Wm)(v,{span:20},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{label:"修改时间:"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(n.detail.updateTime),1)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(g,{modelValue:n.activeName,"onUpdate:modelValue":a[0]||(a[0]=e=>n.activeName=e),class:"demo-tabs",onTabClick:o.handleClick},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{label:"回收情况",name:"1"},{default:(0,t.w5)((()=>[(0,t.Wm)(W)])),_:1}),(0,t.Wm)(y,{label:"参与人员",name:"2"},{default:(0,t.w5)((()=>[(0,t.Uk)("Config")])),_:1}),(0,t.Wm)(y,{label:"店铺限制",name:"3"},{default:(0,t.w5)((()=>[(0,t.Uk)("Role")])),_:1})])),_:1},8,["modelValue","onTabClick"])])),_:1})])),_:1}),n.dialog.save?((0,t.wg)(),(0,t.j4)(L,{key:0,ref:"saveDialog",onSuccess:o.handleSaveSuccess,deptList:n.deptList,researchObjectList:n.researchObjectList,researchPeriodList:n.researchPeriodList,onClosed:a[1]||(a[1]=e=>n.dialog.save=!1)},null,8,["onSuccess","deptList","researchObjectList","researchPeriodList"])):(0,t.kq)("",!0)],64)}l(7658);var o=l(6817),f=l(3127),p=l(907),m={name:"plan-detail",components:{saveDialog:o["default"],RecycleDetail:f["default"]},data(){return{activeName:"1",id:this.$route.query.id,input:"",dialog:{save:!1},detail:{},deptList:[{label:"专卖",value:1},{label:"物流",value:2},{label:"营销",value:3}],researchObjectList:[{label:"消费者",value:1},{label:"店铺",value:2}],researchPeriodList:[{label:"月度",value:1},{label:"季度",value:2},{label:"半年",value:3},{label:"年度",value:4}],statusList:[{label:"待开始",value:1},{label:"已开始",value:2},{label:"待开启申诉",value:3},{label:"申诉已开启",value:4},{label:"结果待公布",value:5},{label:"结果公布",value:6}]}},created(){},mounted(){this.$store.commit("updateViewTagsTitle",`打分计划详情 ID:${this.id}`),this.getDetail(this.$route.query.id)},methods:{filterType(e,a){return a.find((a=>a.value===e))?.label||"-"},statusStyle(e){let a="";switch(e){case 1:a="#FF9F2E";break;case 2:a="#22CE29";break;case 3:a="#1D95F6";break;case 4:a="#23994A";break;case 5:a="#FF7878";break;case 6:a="#C8C8C8";break}return a},async getDetail(e){let a=await this.$API.researchInfo.GetPlanDetail.get(e);200===a.code?this.detail=a.data:p.Z.closeNext((()=>{this.$router.push("/researchInfo/plan")}))},back(){p.Z.closeNext((()=>{this.$router.push("/researchInfo/plan")}))},editData(){this.dialog.save=!0,this.$nextTick((()=>{this.$refs.saveDialog.open("edit").setData(this.detail)}))},handleClick(e){console.log(e)},handleSaveSuccess(e,a){"edit"==a&&this.getDetail(e.id)}}},b=l(3744);const w=(0,b.Z)(m,[["render",n],["__scopeId","data-v-69bb0422"]]);var h=w}}]);