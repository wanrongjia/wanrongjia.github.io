"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[8782],{9927:function(e,a,l){l.r(a),l.d(a,{default:function(){return d}});var o=l(6252);const t=e=>((0,o.dD)("data-v-71f09cae"),e=e(),(0,o.Cn)(),e),m=t((()=>(0,o._)("div",{class:"el-form-item-msg"},"账号信息用于登录，系统不允许修改",-1)));function r(e,a,l,t,r,s){const u=(0,o.up)("scUpload"),n=(0,o.up)("el-form-item"),d=(0,o.up)("el-input"),i=(0,o.up)("el-button"),f=(0,o.up)("el-form"),p=(0,o.up)("el-card");return(0,o.wg)(),(0,o.j4)(p,{shadow:"never",header:"个人信息"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{ref:"form",model:r.form,rules:r.rules,"label-width":"120px","label-position":"left",style:{"margin-top":"20px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{label:"头像"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{round:"",modelValue:r.form.portrait,"onUpdate:modelValue":a[0]||(a[0]=e=>r.form.portrait=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"登陆帐号"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",modelValue:r.form.account,"onUpdate:modelValue":a[1]||(a[1]=e=>r.form.account=e),disabled:""},null,8,["modelValue"]),m])),_:1}),(0,o.Wm)(n,{label:"用户姓名"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",prop:"name",modelValue:r.form.name,"onUpdate:modelValue":a[2]||(a[2]=e=>r.form.name=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"绑定电话"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",modelValue:r.form.phone,"onUpdate:modelValue":a[3]||(a[3]=e=>r.form.phone=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"组织"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",modelValue:r.form.organizationName,"onUpdate:modelValue":a[4]||(a[4]=e=>r.form.organizationName=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,{label:"角色"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"short",modelValue:r.form.roleName,"onUpdate:modelValue":a[5]||(a[5]=e=>r.form.roleName=e),disabled:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(n,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{type:"primary",onClick:s.save},{default:(0,o.w5)((()=>[(0,o.Uk)("保存")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])),_:1})}var s={data(){return{form:{account:"",name:"",psd:"********",phone:"",organizationName:"",roleName:"",portrait:""},rules:{name:[{required:!0,message:"用户名不能为空"}]}}},created(){this.getDetail()},methods:{async getDetail(){let e=await this.$API.user.GetUserInfo.get();this.form=e.data},save(){this.$refs.form.validate((async e=>{if(!e)return!1;{const{name:e,phone:a,portrait:l}=this.form;let o=await this.$API.user.UpdateUserInfo.put({name:e,phone:a,portrait:l});200===o.code?(this.$message.success("修改成功"),this.$emit("init")):this.$message.warning(o.message)}}))}}},u=l(3744);const n=(0,u.Z)(s,[["render",r],["__scopeId","data-v-71f09cae"]]);var d=n}}]);