"use strict";(self["webpackChunkscui"]=self["webpackChunkscui"]||[]).push([[1617],{6310:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var n=a(6252),l=a(3577);const i={class:"user-info-top"};function u(e,t,a,u,s,o){const r=(0,n.up)("el-avatar"),c=(0,n.up)("el-tag"),d=(0,n.up)("el-header"),p=(0,n.up)("el-icon"),m=(0,n.up)("el-menu-item"),g=(0,n.up)("el-menu-item-group"),w=(0,n.up)("el-menu"),f=(0,n.up)("el-main"),h=(0,n.up)("el-container"),_=(0,n.up)("el-aside"),k=(0,n.up)("el-skeleton");return(0,n.wg)(),(0,n.j4)(h,{class:"page-user"},{default:(0,n.w5)((()=>[(0,n.Wm)(_,{style:{width:"240px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{style:{height:"auto",display:"block"}},{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n.Wm)(r,{size:70,src:o.user.avatar},null,8,["src"]),(0,n._)("h2",null,(0,l.zw)(o.user.userName),1),(0,n._)("p",null,[(0,n.Wm)(c,{effect:"dark",round:"",size:"large","disable-transitions":""},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(o.user.roleName),1)])),_:1})])])])),_:1}),(0,n.Wm)(f,{class:"nopadding"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{class:"menu","default-active":s.page},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.menu,(e=>((0,n.wg)(),(0,n.j4)(g,{key:e.groupName,title:e.groupName},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.list,(e=>((0,n.wg)(),(0,n.j4)(m,{key:e.component,index:e.component,onClick:o.openPage},{title:(0,n.w5)((()=>[(0,n._)("span",null,(0,l.zw)(e.title),1)])),default:(0,n.w5)((()=>[e.icon?((0,n.wg)(),(0,n.j4)(p,{key:0},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)((0,n.LL)(e.icon)))])),_:2},1024)):(0,n.kq)("",!0)])),_:2},1032,["index","onClick"])))),128))])),_:2},1032,["title"])))),128))])),_:1},8,["default-active"])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)(n.n4,null,{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)((0,n.LL)(s.page),{onInit:o.getDetail},null,40,["onInit"]))])),fallback:(0,n.w5)((()=>[(0,n.Wm)(k,{rows:3})])),_:1}))])),_:1})])),_:1})}var s=a(4239),o={name:"userCenter",components:{account:(0,n.RC)((()=>a.e(8782).then(a.bind(a,9927)))),seting:(0,n.RC)((()=>a.e(9764).then(a.bind(a,2093)))),pushSettings:(0,n.RC)((()=>a.e(8762).then(a.bind(a,7999)))),password:(0,n.RC)((()=>Promise.all([a.e(6325),a.e(6965)]).then(a.bind(a,3516)))),space:(0,n.RC)((()=>Promise.all([a.e(6325),a.e(9743)]).then(a.bind(a,8060)))),logs:(0,n.RC)((()=>a.e(2300).then(a.bind(a,602)))),upToEnterprise:(0,n.RC)((()=>a.e(935).then(a.bind(a,3361))))},data(){return{menu:[{groupName:"基本设置",list:[{icon:"el-icon-postcard",title:"账号信息",component:"account",emit:"getDetail"},{icon:"el-icon-lock",title:"密码",component:"password"}]},{groupName:"数据管理",list:[{icon:"el-icon-clock",title:"操作日志",component:"logs"}]}],page:"account"}},computed:{user:()=>s.Z.state.user.USER_INFO},beforeRouteEnter(e,t,a){a((e=>{t.is&&(delete t.is,e.$alert("路由跳转过来后含有特殊标识，做特殊处理","提示",{type:"success",center:!0}).then((()=>{})).catch((()=>{})))}))},created(){this.getDetail()},methods:{async getDetail(){let e=await this.$API.user.GetUserInfo.get();const t={avatar:e.data.portrait,role:e.data.roleId,organizationId:e.data.organizationId,userId:e.data.id,roleName:e.data.roleName,userName:e.data.name};this.$TOOL.data.set("USER_INFO",t),this.$store.state.user.USER_INFO=t},openPage(e){this.page=e.index}}},r=a(3744);const c=(0,r.Z)(o,[["render",u]]);var d=c}}]);